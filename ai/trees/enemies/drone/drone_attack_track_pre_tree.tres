[gd_resource type="BehaviorTree" load_steps=44 format=3 uid="uid://begvv6rs4ydt5"]

[ext_resource type="Script" uid="uid://c57f4wu7njwuq" path="res://ai/tasks/drone/is_facing_condition.gd" id="1_04tl1"]
[ext_resource type="Script" uid="uid://og2wfxp7v822" path="res://ai/tasks/drone/is_in_physics_state_condition.gd" id="1_w63lw"]
[ext_resource type="Script" uid="uid://dhptod8wkftxr" path="res://ai/tasks/drone/set_physics_action.gd" id="2_04tl1"]
[ext_resource type="Script" uid="uid://cryuu1jycrokl" path="res://ai/tasks/drone/is_in_engines_state_condition.gd" id="3_gqil7"]
[ext_resource type="Script" uid="uid://cjmmtaigaxfy3" path="res://ai/tasks/drone/set_engines_action.gd" id="4_w8312"]
[ext_resource type="Script" uid="uid://brqg8vvudgc7a" path="res://ai/tasks/drone/is_in_targeting_state_condition.gd" id="5_37wiq"]
[ext_resource type="Script" uid="uid://cnulieepl2f00" path="res://ai/tasks/drone/stop_moving_action.gd" id="5_tdfnr"]
[ext_resource type="Script" uid="uid://c6ocf77l1pyn7" path="res://ai/tasks/drone/set_targeting_action.gd" id="6_tdfnr"]
[ext_resource type="Script" uid="uid://66mhcr7w8o2f" path="res://ai/tasks/drone/face_node_action.gd" id="8_gqil7"]
[ext_resource type="Script" uid="uid://bq6jhax0oj50u" path="res://ai/tasks/drone/is_in_engagement_state_condition.gd" id="9_w8312"]
[ext_resource type="Script" uid="uid://ccb4gyv0lb1qr" path="res://ai/tasks/drone/open_action.gd" id="10_37wiq"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_27a6j"]

[sub_resource type="BTCondition" id="BTCondition_jdkcr"]
script = ExtResource("1_w63lw")
expected_state = 0

[sub_resource type="BTInvert" id="BTInvert_67r2n"]
children = [SubResource("BTCondition_jdkcr")]

[sub_resource type="BTAction" id="BTAction_6rnsw"]
script = ExtResource("2_04tl1")
phys_type = "char"

[sub_resource type="BTSequence" id="BTSequence_b1nek"]
custom_name = "Physics Sequence"
children = [SubResource("BTInvert_67r2n"), SubResource("BTAction_6rnsw")]

[sub_resource type="BTAlwaysSucceed" id="BTAlwaysSucceed_37wiq"]
children = [SubResource("BTSequence_b1nek")]

[sub_resource type="BTCondition" id="BTCondition_sdjen"]
script = ExtResource("3_gqil7")
expected_state = 0

[sub_resource type="BTInvert" id="BTInvert_et0ka"]
children = [SubResource("BTCondition_sdjen")]

[sub_resource type="BTAction" id="BTAction_3q0tp"]
script = ExtResource("4_w8312")
eng_type = "stop"
quick_stop_keep_speed = false
async = true

[sub_resource type="BTAction" id="BTAction_jdkcr"]
script = ExtResource("5_tdfnr")

[sub_resource type="BTSequence" id="BTSequence_7f6ok"]
custom_name = "Engines Sequence"
children = [SubResource("BTInvert_et0ka"), SubResource("BTAction_3q0tp"), SubResource("BTAction_jdkcr")]

[sub_resource type="BTAlwaysSucceed" id="BTAlwaysSucceed_tdfnr"]
children = [SubResource("BTSequence_7f6ok")]

[sub_resource type="BTCondition" id="BTCondition_u77j0"]
script = ExtResource("5_37wiq")
expected_state = 0

[sub_resource type="BTInvert" id="BTInvert_rmsh3"]
children = [SubResource("BTCondition_u77j0")]

[sub_resource type="BTAction" id="BTAction_636f6"]
script = ExtResource("6_tdfnr")
targ_type = "disabled"
enable_to_acquiring = true

[sub_resource type="BTSequence" id="BTSequence_02uo6"]
custom_name = "Targeting Sequence"
children = [SubResource("BTInvert_rmsh3"), SubResource("BTAction_636f6")]

[sub_resource type="BTAlwaysSucceed" id="BTAlwaysSucceed_jdkcr"]
children = [SubResource("BTSequence_02uo6")]

[sub_resource type="BTParallel" id="BTParallel_eug5k"]
num_successes_required = 3
children = [SubResource("BTAlwaysSucceed_37wiq"), SubResource("BTAlwaysSucceed_tdfnr"), SubResource("BTAlwaysSucceed_jdkcr")]

[sub_resource type="BBNode" id="BBNode_gqil7"]
saved_value = null

[sub_resource type="BTCondition" id="BTCondition_w8312"]
script = ExtResource("1_04tl1")
custom_node = SubResource("BBNode_gqil7")
world_repr_pos_x_name = ""
target_type = "target node"
away = false

[sub_resource type="BTInvert" id="BTInvert_37wiq"]
children = [SubResource("BTCondition_w8312")]

[sub_resource type="BBNode" id="BBNode_w8312"]
saved_value = null

[sub_resource type="BTAction" id="BTAction_37wiq"]
script = ExtResource("8_gqil7")
custom_node = SubResource("BBNode_w8312")
world_repr_pos_x_name = ""
target_type = "target node"
away = false
async = false

[sub_resource type="BTSequence" id="BTSequence_tdfnr"]
custom_name = "Facing Sequence"
children = [SubResource("BTInvert_37wiq"), SubResource("BTAction_37wiq")]

[sub_resource type="BTAlwaysSucceed" id="BTAlwaysSucceed_67r2n"]
children = [SubResource("BTSequence_tdfnr")]

[sub_resource type="BTCondition" id="BTCondition_37wiq"]
script = ExtResource("9_w8312")
expected_state = 2

[sub_resource type="BTInvert" id="BTInvert_tdfnr"]
children = [SubResource("BTCondition_37wiq")]

[sub_resource type="BTAction" id="BTAction_tdfnr"]
script = ExtResource("10_37wiq")
check_signal_id = false
async = true

[sub_resource type="BTSequence" id="BTSequence_jdkcr"]
custom_name = "Engagement Sequence"
children = [SubResource("BTInvert_tdfnr"), SubResource("BTAction_tdfnr")]

[sub_resource type="BTAlwaysSucceed" id="BTAlwaysSucceed_6rnsw"]
children = [SubResource("BTSequence_jdkcr")]

[sub_resource type="BTParallel" id="BTParallel_jdkcr"]
num_successes_required = 2
children = [SubResource("BTAlwaysSucceed_67r2n"), SubResource("BTAlwaysSucceed_6rnsw")]

[sub_resource type="BTSequence" id="BTSequence_w63lw"]
custom_name = "Main Sequence"
children = [SubResource("BTParallel_eug5k"), SubResource("BTParallel_jdkcr")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_27a6j")
root_task = SubResource("BTSequence_w63lw")
