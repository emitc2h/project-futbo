[gd_resource type="BehaviorTree" load_steps=15 format=3 uid="uid://cecabytbqfdfm"]

[ext_resource type="BehaviorTree" uid="uid://cquw7q8b04nvv" path="res://ai/trees/enemies/drone/action trees/prepare_attack.tres" id="1_e2afj"]
[ext_resource type="Script" uid="uid://cetf63fmdqa02" path="res://ai/tasks/drone/set_vulnerability_action.gd" id="2_3efin"]
[ext_resource type="Script" uid="uid://biv05ve7fy8oe" path="res://ai/tasks/drone/beam_attack_action.gd" id="3_781b2"]
[ext_resource type="Script" uid="uid://bpgtq3hrfkxtw" path="res://ai/tasks/drone/track_target_action.gd" id="4_voj4m"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_kpq50"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_5p70b"]

[sub_resource type="BTSubtree" id="BTSubtree_4hc2f"]
subtree = ExtResource("1_e2afj")
blackboard_plan = SubResource("BlackboardPlan_5p70b")
custom_name = "Prepare Attack"

[sub_resource type="BTAction" id="BTAction_wwp0n"]
script = ExtResource("2_3efin")
vuln_type = "vulnerable"

[sub_resource type="BTAction" id="BTAction_avy46"]
script = ExtResource("3_781b2")
check_signal_id = true

[sub_resource type="BTAction" id="BTAction_do6c3"]
script = ExtResource("2_3efin")
vuln_type = "defendable"

[sub_resource type="BTSequence" id="BTSequence_fclim"]
custom_name = "Attack "
children = [SubResource("BTAction_wwp0n"), SubResource("BTAction_avy46"), SubResource("BTAction_do6c3")]

[sub_resource type="BTAction" id="BTAction_towsr"]
script = ExtResource("4_voj4m")

[sub_resource type="BTSequence" id="BTSequence_ae7o2"]
custom_name = "Post-Attack"
children = [SubResource("BTAction_towsr")]

[sub_resource type="BTSequence" id="BTSequence_8k0kp"]
custom_name = "Main Sequence"
children = [SubResource("BTSubtree_4hc2f"), SubResource("BTSequence_fclim"), SubResource("BTSequence_ae7o2")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_kpq50")
root_task = SubResource("BTSequence_8k0kp")
