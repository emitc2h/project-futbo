[gd_resource type="BehaviorTree" format=3 uid="uid://duqvkmp4313nm"]

[ext_resource type="Script" uid="uid://dhngbs7qm6328" path="res://ai/tasks/drone/is_object_in_proximity_zone_condition.gd" id="1_3ite6"]
[ext_resource type="Script" uid="uid://cu1bkrkshc51d" path="res://ai/tasks/drone/update_blackboard_condition.gd" id="1_ru2qc"]
[ext_resource type="Script" uid="uid://4tpean3rpeo8" path="res://ai/tasks/drone/drone_block_action.gd" id="2_qvf6d"]
[ext_resource type="Script" uid="uid://brqg8vvudgc7a" path="res://ai/tasks/drone/is_in_targeting_state_condition.gd" id="3_1r6up"]
[ext_resource type="Script" uid="uid://c3n51ki08yi4c" path="res://ai/tasks/drone/drone_track_action.gd" id="4_7pn2i"]
[ext_resource type="BehaviorTree" uid="uid://u35pdp84xg2o" path="res://ai/trees/enemies/drone/combat/subtrees/probabilistic_learning_all_attacks_tree.tres" id="6_5nuwn"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_ntap0"]

[sub_resource type="BTCondition" id="BTCondition_ma56j"]
script = ExtResource("1_ru2qc")

[sub_resource type="BTAlwaysSucceed" id="BTAlwaysSucceed_6uovt"]
custom_name = "ALWAYS UPDATE BLACKBOARD"
children = [SubResource("BTCondition_ma56j")]

[sub_resource type="BTCondition" id="BTCondition_rh5tf"]
script = ExtResource("1_3ite6")
object_type = "Control Node"
is_not = true

[sub_resource type="BTAction" id="BTAction_m8eeb"]
script = ExtResource("2_qvf6d")

[sub_resource type="BTSelector" id="BTSelector_f7hq1"]
children = [SubResource("BTCondition_rh5tf"), SubResource("BTAction_m8eeb")]

[sub_resource type="BTCondition" id="BTCondition_gqadc"]
script = ExtResource("3_1r6up")
expected_state = 1
is_not = true

[sub_resource type="BTFail" id="BTFail_yycr0"]
custom_name = "TRANSITION TO IDLE"

[sub_resource type="BTSelector" id="BTSelector_inlo8"]
children = [SubResource("BTCondition_gqadc"), SubResource("BTFail_yycr0")]

[sub_resource type="BTAction" id="BTAction_iln2x"]
script = ExtResource("4_7pn2i")
timeout = 3.0
jump_period = 1.0

[sub_resource type="BlackboardPlan" id="BlackboardPlan_5nuwn"]

[sub_resource type="BTSubtree" id="BTSubtree_ma56j"]
subtree = ExtResource("6_5nuwn")
blackboard_plan = SubResource("BlackboardPlan_5nuwn")

[sub_resource type="BTSequence" id="BTSequence_82cf2"]
children = [SubResource("BTAction_iln2x"), SubResource("BTSubtree_ma56j")]

[sub_resource type="BTDynamicSequence" id="BTDynamicSequence_bciix"]
children = [SubResource("BTAlwaysSucceed_6uovt"), SubResource("BTSelector_f7hq1"), SubResource("BTSelector_inlo8"), SubResource("BTSequence_82cf2")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_ntap0")
root_task = SubResource("BTDynamicSequence_bciix")
