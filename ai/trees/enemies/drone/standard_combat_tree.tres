[gd_resource type="BehaviorTree" load_steps=34 format=3 uid="uid://duqvkmp4313nm"]

[ext_resource type="Script" uid="uid://brqg8vvudgc7a" path="res://ai/tasks/drone/is_in_targeting_state_condition.gd" id="1_yycr0"]
[ext_resource type="Script" uid="uid://dhngbs7qm6328" path="res://ai/tasks/drone/is_object_in_proximity_zone_condition.gd" id="2_bkrkg"]
[ext_resource type="Script" uid="uid://c3n51ki08yi4c" path="res://ai/tasks/drone/drone_track_action.gd" id="2_fuyyn"]
[ext_resource type="Script" uid="uid://bsi37utyrao2r" path="res://ai/tasks/drone/update_success_buffer_condition.gd" id="3_bkrkg"]
[ext_resource type="Script" uid="uid://4tpean3rpeo8" path="res://ai/tasks/drone/drone_block_action.gd" id="3_s6aqh"]
[ext_resource type="Script" uid="uid://cw5lgdcrky3nb" path="res://ai/tasks/drone/drone_beam_attack_action.gd" id="4_s6aqh"]
[ext_resource type="Script" uid="uid://dd8w8ekmubvy3" path="res://ai/tasks/drone/measure_success_condition.gd" id="5_rh5tf"]
[ext_resource type="Script" uid="uid://cn3tf4te6g4xt" path="res://ai/tasks/drone/drone_dive_attack_action.gd" id="6_m8eeb"]
[ext_resource type="Script" uid="uid://b2j2u7t3dp4en" path="res://ai/tasks/drone/drone_ram_attack_action.gd" id="7_f7hq1"]
[ext_resource type="Script" uid="uid://bnwshcmpemp3f" path="res://ai/tasks/drone/success_learning_probability_selector.gd" id="8_ty1s5"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_ntap0"]

[sub_resource type="BTCondition" id="BTCondition_rh5tf"]
script = ExtResource("2_bkrkg")
object_type = "Control Node"
is_not = true

[sub_resource type="BTAction" id="BTAction_m8eeb"]
script = ExtResource("3_s6aqh")

[sub_resource type="BTSelector" id="BTSelector_f7hq1"]
children = [SubResource("BTCondition_rh5tf"), SubResource("BTAction_m8eeb")]

[sub_resource type="BTCondition" id="BTCondition_gqadc"]
script = ExtResource("1_yycr0")
expected_state = 1
is_not = true

[sub_resource type="BTFail" id="BTFail_yycr0"]
custom_name = "TRANSITION TO IDLE"

[sub_resource type="BTSelector" id="BTSelector_inlo8"]
children = [SubResource("BTCondition_gqadc"), SubResource("BTFail_yycr0")]

[sub_resource type="BTAction" id="BTAction_iln2x"]
script = ExtResource("2_fuyyn")
timeout = 3.0
jump_strength = 40.0
jump_period = 1.0

[sub_resource type="BTCondition" id="BTCondition_htlf3"]
script = ExtResource("3_bkrkg")
record_name = "beam_attack"

[sub_resource type="BTAction" id="BTAction_70ewm"]
script = ExtResource("4_s6aqh")
target = "player"
target_control_node_while_dribbling = true
evasive_maneuvers = true
jump_strength = 36.0

[sub_resource type="BTCondition" id="BTCondition_pdrq0"]
script = ExtResource("5_rh5tf")
success_measure = "control_node_repr_charges"
record_name = "beam_attack"

[sub_resource type="BTSequence" id="BTSequence_7dxse"]
children = [SubResource("BTCondition_htlf3"), SubResource("BTAction_70ewm"), SubResource("BTCondition_pdrq0")]
metadata/_weight_ = 1.0

[sub_resource type="BTCondition" id="BTCondition_3kgfa"]
script = ExtResource("3_bkrkg")
record_name = "dive_attack"

[sub_resource type="BTAction" id="BTAction_1fvfu"]
script = ExtResource("6_m8eeb")

[sub_resource type="BTCondition" id="BTCondition_o6ml7"]
script = ExtResource("5_rh5tf")
success_measure = "control_node_repr_charges"
record_name = "dive_attack"

[sub_resource type="BTSequence" id="BTSequence_bpb2x"]
children = [SubResource("BTCondition_3kgfa"), SubResource("BTAction_1fvfu"), SubResource("BTCondition_o6ml7")]
metadata/_weight_ = 1.0

[sub_resource type="BTCondition" id="BTCondition_tprbu"]
script = ExtResource("3_bkrkg")
record_name = "ram_attack"

[sub_resource type="BTAction" id="BTAction_7dmld"]
script = ExtResource("7_f7hq1")

[sub_resource type="BTCondition" id="BTCondition_4d3ye"]
script = ExtResource("5_rh5tf")
success_measure = "control_node_repr_charges"
record_name = "ram_attack"

[sub_resource type="BTSequence" id="BTSequence_gwl88"]
children = [SubResource("BTCondition_tprbu"), SubResource("BTAction_7dmld"), SubResource("BTCondition_4d3ye")]
metadata/_weight_ = 1.0

[sub_resource type="BTProbabilitySelector" id="BTProbabilitySelector_lhtrt"]
children = [SubResource("BTSequence_7dxse"), SubResource("BTSequence_bpb2x"), SubResource("BTSequence_gwl88")]
script = ExtResource("8_ty1s5")
record_names = Array[String](["beam_attack", "dive_attack", "ram_attack"])

[sub_resource type="BTSequence" id="BTSequence_82cf2"]
children = [SubResource("BTAction_iln2x"), SubResource("BTProbabilitySelector_lhtrt")]

[sub_resource type="BTDynamicSequence" id="BTDynamicSequence_bciix"]
children = [SubResource("BTSelector_f7hq1"), SubResource("BTSelector_inlo8"), SubResource("BTSequence_82cf2")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_ntap0")
root_task = SubResource("BTDynamicSequence_bciix")
