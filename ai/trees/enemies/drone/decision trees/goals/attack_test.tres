[gd_resource type="BehaviorTree" load_steps=26 format=3 uid="uid://b2yl7nxa3drym"]

[ext_resource type="Script" uid="uid://c3n51ki08yi4c" path="res://ai/tasks/drone/drone_track_action.gd" id="1_1vix5"]
[ext_resource type="Script" uid="uid://bnwshcmpemp3f" path="res://ai/tasks/drone/success_learning_probability_selector.gd" id="2_5pa3u"]
[ext_resource type="Script" uid="uid://bsi37utyrao2r" path="res://ai/tasks/drone/update_success_buffer_condition.gd" id="2_siqkf"]
[ext_resource type="Script" uid="uid://cw5lgdcrky3nb" path="res://ai/tasks/drone/drone_beam_attack_action.gd" id="3_d2su3"]
[ext_resource type="Script" uid="uid://dd8w8ekmubvy3" path="res://ai/tasks/drone/measure_success_condition.gd" id="4_vpe4h"]
[ext_resource type="Script" uid="uid://cn3tf4te6g4xt" path="res://ai/tasks/drone/drone_dive_attack_action.gd" id="5_5eg62"]
[ext_resource type="Script" uid="uid://b2j2u7t3dp4en" path="res://ai/tasks/drone/drone_ram_attack_action.gd" id="6_vqd8t"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_siqkf"]

[sub_resource type="BTAction" id="BTAction_3fov2"]
script = ExtResource("1_1vix5")
timeout = 3.0

[sub_resource type="BTCondition" id="BTCondition_c2wvc"]
script = ExtResource("2_siqkf")
record_name = "beam_attack"

[sub_resource type="BTAction" id="BTAction_crora"]
script = ExtResource("3_d2su3")
target = "player"
target_control_node_while_dribbling = true
evasive_maneuvers = true
jump_strength = 36.0

[sub_resource type="BTCondition" id="BTCondition_skg0c"]
script = ExtResource("4_vpe4h")
success_measure = "control_node_repr_charges"
record_name = "beam_attack"

[sub_resource type="BTSequence" id="BTSequence_f4qdv"]
children = [SubResource("BTCondition_c2wvc"), SubResource("BTAction_crora"), SubResource("BTCondition_skg0c")]
metadata/_weight_ = 1.0

[sub_resource type="BTCondition" id="BTCondition_lumdl"]
script = ExtResource("2_siqkf")
record_name = "dive_attack"

[sub_resource type="BTAction" id="BTAction_4ndkn"]
script = ExtResource("5_5eg62")

[sub_resource type="BTCondition" id="BTCondition_5n3vj"]
script = ExtResource("4_vpe4h")
success_measure = "control_node_repr_charges"
record_name = "dive_attack"

[sub_resource type="BTSequence" id="BTSequence_eiig0"]
children = [SubResource("BTCondition_lumdl"), SubResource("BTAction_4ndkn"), SubResource("BTCondition_5n3vj")]
metadata/_weight_ = 1.0

[sub_resource type="BTCondition" id="BTCondition_sjmhf"]
script = ExtResource("2_siqkf")
record_name = "ram_attack"

[sub_resource type="BTAction" id="BTAction_csvvq"]
script = ExtResource("6_vqd8t")

[sub_resource type="BTCondition" id="BTCondition_4eb80"]
script = ExtResource("4_vpe4h")
success_measure = "control_node_repr_charges"
record_name = "ram_attack"

[sub_resource type="BTSequence" id="BTSequence_3uwdu"]
children = [SubResource("BTCondition_sjmhf"), SubResource("BTAction_csvvq"), SubResource("BTCondition_4eb80")]
metadata/_weight_ = 1.0

[sub_resource type="BTProbabilitySelector" id="BTProbabilitySelector_3mjoj"]
children = [SubResource("BTSequence_f4qdv"), SubResource("BTSequence_eiig0"), SubResource("BTSequence_3uwdu")]
script = ExtResource("2_5pa3u")
record_names = Array[String](["beam_attack", "dive_attack", "ram_attack"])
printout = true

[sub_resource type="BBVariant" id="BBVariant_vpe4h"]
type = 1
saved_value = false
resource_name = "<null>"

[sub_resource type="BTSetVar" id="BTSetVar_5eg62"]
variable = &"attacking"
value = SubResource("BBVariant_vpe4h")

[sub_resource type="BTSequence" id="BTSequence_vqd8t"]
children = [SubResource("BTAction_3fov2"), SubResource("BTProbabilitySelector_3mjoj"), SubResource("BTSetVar_5eg62")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_siqkf")
root_task = SubResource("BTSequence_vqd8t")
