[gd_resource type="BehaviorTree" load_steps=24 format=3 uid="uid://qnsq1ngpk2t8"]

[ext_resource type="Script" uid="uid://og2wfxp7v822" path="res://ai/tasks/drone/is_in_physics_state_condition.gd" id="1_f46kp"]
[ext_resource type="Script" uid="uid://dhptod8wkftxr" path="res://ai/tasks/drone/set_physics_action.gd" id="2_2jh1e"]
[ext_resource type="Script" uid="uid://bq6jhax0oj50u" path="res://ai/tasks/drone/is_in_engagement_state_condition.gd" id="3_1ba8m"]
[ext_resource type="Script" uid="uid://ccb4gyv0lb1qr" path="res://ai/tasks/drone/open_action.gd" id="4_pshps"]
[ext_resource type="Script" uid="uid://brqg8vvudgc7a" path="res://ai/tasks/drone/is_in_targeting_state_condition.gd" id="5_1ba8m"]
[ext_resource type="Script" uid="uid://c6ocf77l1pyn7" path="res://ai/tasks/drone/set_targeting_action.gd" id="6_pshps"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_vn6tj"]

[sub_resource type="BTCondition" id="BTCondition_emxvy"]
script = ExtResource("1_f46kp")
expected_state = 0

[sub_resource type="BTInvert" id="BTInvert_5r4qc"]
children = [SubResource("BTCondition_emxvy")]

[sub_resource type="BTAction" id="BTAction_jvl5y"]
script = ExtResource("2_2jh1e")
phys_type = "char"

[sub_resource type="BTSequence" id="BTSequence_lbl6w"]
custom_name = "Physics Sequence"
children = [SubResource("BTInvert_5r4qc"), SubResource("BTAction_jvl5y")]

[sub_resource type="BTAlwaysSucceed" id="BTAlwaysSucceed_1ba8m"]
children = [SubResource("BTSequence_lbl6w")]

[sub_resource type="BTCondition" id="BTCondition_02yue"]
script = ExtResource("3_1ba8m")
expected_state = 2

[sub_resource type="BTInvert" id="BTInvert_tt13o"]
children = [SubResource("BTCondition_02yue")]

[sub_resource type="BTAction" id="BTAction_u5ufr"]
script = ExtResource("4_pshps")
check_signal_id = false
async = true

[sub_resource type="BTSequence" id="BTSequence_1eo81"]
custom_name = "Engagement Sequence"
children = [SubResource("BTInvert_tt13o"), SubResource("BTAction_u5ufr")]

[sub_resource type="BTAlwaysSucceed" id="BTAlwaysSucceed_pshps"]
children = [SubResource("BTSequence_1eo81")]

[sub_resource type="BTCondition" id="BTCondition_5r4qc"]
script = ExtResource("5_1ba8m")
expected_state = 1

[sub_resource type="BTInvert" id="BTInvert_jvl5y"]
children = [SubResource("BTCondition_5r4qc")]

[sub_resource type="BTAction" id="BTAction_lbl6w"]
script = ExtResource("6_pshps")
targ_type = "enabled"
enable_to_acquiring = false

[sub_resource type="BTSequence" id="BTSequence_02yue"]
custom_name = "Targeting Sequence"
children = [SubResource("BTInvert_jvl5y"), SubResource("BTAction_lbl6w")]

[sub_resource type="BTAlwaysSucceed" id="BTAlwaysSucceed_emxvy"]
children = [SubResource("BTSequence_02yue")]

[sub_resource type="BTParallel" id="BTParallel_wpsn5"]
num_successes_required = 3
children = [SubResource("BTAlwaysSucceed_1ba8m"), SubResource("BTAlwaysSucceed_pshps"), SubResource("BTAlwaysSucceed_emxvy")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_vn6tj")
root_task = SubResource("BTParallel_wpsn5")
