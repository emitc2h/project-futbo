[gd_resource type="BehaviorTree" load_steps=22 format=3 uid="uid://cl3pokesv8enr"]

[ext_resource type="Script" uid="uid://cx0yx8yuudfsl" path="res://ai/tasks/drone/turn.gd" id="1_ngwm7"]
[ext_resource type="Script" uid="uid://b8ibdnckttvdc" path="res://ai/tasks/drone/move_to_node.gd" id="2_dovx4"]
[ext_resource type="Script" uid="uid://b6vg8voy4knkx" path="res://ai/tasks/drone/scan_for_player.gd" id="3_kyubv"]
[ext_resource type="Script" uid="uid://de3asibarclf" path="res://ai/tasks/drone/follow_player.gd" id="4_b76ob"]

[sub_resource type="BlackboardPlan" id="BlackboardPlan_0xi1a"]

[sub_resource type="BTAction" id="BTAction_dovx4"]
script = ExtResource("1_ngwm7")
direction = 1

[sub_resource type="BBNode" id="BBNode_dovx4"]
saved_value = NodePath("PatrolMarker1")
resource_name = "PatrolMarker1"

[sub_resource type="BTAction" id="BTAction_iaued"]
script = ExtResource("2_dovx4")
destination_node = SubResource("BBNode_dovx4")
distance_when_to_stop = 0.1

[sub_resource type="BTWait" id="BTWait_dovx4"]

[sub_resource type="BTAction" id="BTAction_ngwm7"]
script = ExtResource("1_ngwm7")
direction = -1

[sub_resource type="BBNode" id="BBNode_kyubv"]
saved_value = NodePath("PatrolMarker2")
resource_name = "PatrolMarker2"

[sub_resource type="BTAction" id="BTAction_b3bon"]
script = ExtResource("2_dovx4")
destination_node = SubResource("BBNode_kyubv")
distance_when_to_stop = 0.1

[sub_resource type="BTWait" id="BTWait_kyubv"]

[sub_resource type="BTSequence" id="BTSequence_0xi1a"]
custom_name = "Patrol Sequence"
children = [SubResource("BTAction_dovx4"), SubResource("BTAction_iaued"), SubResource("BTWait_dovx4"), SubResource("BTAction_ngwm7"), SubResource("BTAction_b3bon"), SubResource("BTWait_kyubv")]

[sub_resource type="BTAction" id="BTAction_b76ob"]
script = ExtResource("3_kyubv")

[sub_resource type="BTSequence" id="BTSequence_dovx4"]
custom_name = "Scan for Player Sequence"
children = [SubResource("BTAction_b76ob")]

[sub_resource type="BTParallel" id="BTParallel_iaued"]
children = [SubResource("BTSequence_0xi1a"), SubResource("BTSequence_dovx4")]

[sub_resource type="BTAction" id="BTAction_dr43r"]
script = ExtResource("4_b76ob")
target_offset = 3.0

[sub_resource type="BTSelector" id="BTSelector_an7lx"]
children = [SubResource("BTAction_dr43r")]

[sub_resource type="BTSequence" id="BTSequence_ufpe3"]
children = [SubResource("BTParallel_iaued"), SubResource("BTSelector_an7lx")]

[sub_resource type="BTSelector" id="BTSelector_0xi1a"]
children = [SubResource("BTSequence_ufpe3")]

[resource]
blackboard_plan = SubResource("BlackboardPlan_0xi1a")
root_task = SubResource("BTSelector_0xi1a")
